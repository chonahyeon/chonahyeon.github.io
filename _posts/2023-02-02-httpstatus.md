---
title: "[네트워크] HTTP 상태코드"
date: '2023-02-02 +0900'
description: '기술면접 준비 - HTTP 상태코드'
categories: [Study,Network]
tags: [Network,기술면접]
---

> 2월 1주차 스터디 발표 자료📖                                    
> 기술 면접을 준비하며 정했던 주제 중 네번 째 주제입니다!           
> 웹 개발을 하다보면 정말 자주만나는 http 상태코드에 대해 정리하고자 합니다!

## **HTTP 상태코드?** ##
---
* **HTTP 상태코드란**?           
➔ 클라이언트가 보낸 **요청의 처리 상태를 응답**에서 알려주는 기능        
➔ 클라이언트가 **인식할 수 없는 상태코드**를 서버가 반환하면, **상위 상태코드**로 해석하면 된다.                    
    - **1xx (Informational)**: 요청이 수신되어 처리 중 (거의 사용x)
    - **2xx (Successful)**: 요청 정상 처리
    - **3xx (Redirection)**: 요청을 완료하려면 추가 행동이 필요하다.
    - **4xx (Client Error)**: 클라이언트 오류이며, 잘못된 문법 등으로 서버가 요청을 수행할 수 없다.
    - **5xx (Server Error)**: 서버 오류, 서버가 정상 요청을 처리하지 못함

### **2xx - 성공** ###
1. **200 OK - 요청 성공**
![200 OK](/assets/img/200ok.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px; " } 
2. **201 Created - 요청 성공해서 새로운 리소스가 생성됨**   
- 생성된 리소스는 응답의 **Location 헤더 필드**에 ***리소스의 URI가*** 담겨 전송된다.             
![201 OK](/assets/img/201created.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px; " } 
3. **202 Accepted - 요청이 접수되었으나 처리가 완료되지 않음 (잘 사용하지 않음)**
- ***배치 처리*** 같은 곳에서 사용한다.         
ex) 요청 접수 후 **1시간 뒤에** 배치 프로세스가 요청을 처리함 
4. **204 No Content - 요청을 성공적으로 수행했으나, 응답 본문에 보낼 데이터가 없음**
- ex) 웹 문서 편집기의 save 버튼            
➔ save 버튼의 결과로 **아무 내용이 없어도 된다.**                
➔ save 버튼을 눌러도 **같은 화면을 유지**해야한다.                   
➔ 결과 내용이 없어도 **204 메세지(2xx)만**으로 성공을 인식할 수 있다.                                 

### **3xx - 리다이렉션** ###
- 요청을 완료하기 위해 유저 에이전트의 **추가 조치**가 필요하다.           
- 웹 브라우저는 3xx 응답 결과에 **Location 헤더**가 있으면, **Location 위치로 자동 이동**한다.             
➔ **리다이렉트**

* **자동 리다이렉트의 흐름?**        
➔ **🤔 만약 기존 URL을 더이상 사용하지 않는다면??**     
➔ 더 이상 **쓰지않는 페이지에 접근**하면 301 상태코드를 통해 **새로운 페이지로 자동 이동**시킨다.         
![리다이렉트 흐름](/assets/img/redirect.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px; " } 

### **리다이렉션의 종류** ###
1. **영구 리다이렉션 (301,308)?**            
특정 리소스의 **URI가 영구적으로 이동**                    
ex) /members ➔ /users
- 원래의 **URI를 사용하지않으며**, 검색 엔진 등에서도 **변경이 인지**된다.
- ***301 Moved Permanently?***           
➔ 리다이렉트시, 요청 메서드가 **GET**으로 변하고, **본문이 제거될 수 있다.(MAY)**   
➔ 리다이렉트 되면서 **기존의 입력정보가 다 사라질 수 있다.**   
![301 리다이렉트](/assets/img/301redirect.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px; " } 
- ***308 Permanent Redirect?***      
➔ 301과 기능은 같으며, **리다이렉트시 요청 메서드와 본문이 유지**된다.            
➔ 요청 메서드가 POST면, 리다이렉트도 **POST로 유지**된다.        
![308 리다이렉트](/assets/img/308redirect.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px; " }      
2. **일시 리다이렉션 (302,307,303) ?**<br>
ex) 주문 완료 후 주문 내역 화면으로 이동       
➔ **PRG: Post/Redirect/Get** 방식 사용 <br>
- 리소스의 URI가 일시적으로 변경 ➔ **검색엔진 등에서 URL을 변경하면 안된다.**
- ***302 Found?***     
➔ 현재 많은 애플리케이션 라이브러리가 **302를 기본 값**으로 사용한다.              
➔ 리다이렉트시, 요청 메서드가 **GET**으로 변하고, **본문이 제거될 수 있다.(MAY)**   
- ***307 Temporary Redirect?***               
➔ 302와 기능은 같으며, **리다이렉트시 요청 메서드와 본문이 유지**된다.       
➔ **요청 메서드를 변경하면 안된다(MUST NOT)**
- ***303 See Other?***               
➔ 302와 기능은 같으며, **리다이렉트시 요청 메서드가 GET으로 무조건 변경**된다.    
- ***PRG 방식?***           
🤔 **만약, POST로 주문 후에 웹 브라우저를 새로고침 하면 어떻게 될까?**         
➔ 새로 고침은 직전의 행동을 다시 요청하기 때문에, 중복 주문이 될 수 있다.    
➔ 이를 해결하기 위해, 우리는 **PRG 방식을 사용할 수 있다.** (클라이언트 차원에서 막을 수 있음)         
        - **PRG 방식 적용 전**
            ![PRG방식 미적용](/assets/img/prg-before.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px; " }      
        - **PRG 방식 적용 후**                
            새로고침을 해도 ***결과화면을 GET으로 조회할 뿐***이다.             
            ![PRG방식 적용](/assets/img/prgafter.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px; " }  
3. **특수 리다이렉션 (300,304)?**   
결과 대신 **캐시를 사용한다.**
- ***304 Not Modified?***
        - 캐시를 목적으로 사용한다.
        - 클라이언트에게 리소스가 **수정되지 않았음을 알려준다.(=만료되지 않았다)**           
        따라서, 클라이언트는 **로컬PC에 저장된 캐시를 재사용**한다.       
        ➔ ***캐시로 리다이렉트***
        - 304 응답은 ***로컬 캐시***를 사용해야하므로, **응답에 메세지 바디를 포함하면 안된다.**        
        - 조건부 **GET,HEAD 요청 시** 사용한다.   

### **4xx - 클라이언트 오류** ###          
- 클라이언트의 요청에 **잘못된 문법** 등으로 **서버가 요청을 수행할 수 없다.**             
- ***오류의 원인이 클라이언트에 있다.***     
➔ ⭐ 이미 클라이언트가 잘못된 요청, 데이터를 보내고 있으므로 **재시도가 똑같이 실패**함(**복구 불가**)             

1. **400 Bad Request**
- 클라이언트가 잘못된 요청을 해서, 서버가 요청을 처리할 수 없음.          
ex) **요청 파라미터 잘못됨, API 스펙이 맞지않음** (숫자를 보내야하는데 문자를 보낼 때)          
- 요청 구문, 메세지 등의 오류
- 클라이언트는 **요청 내용을 다시 검토하고, 보내야함**
2. **401 Unauthorized**
- **인증(Authentication)이 되지않았다.(로그인이 안됨)**           
- 클라이언트가 **해당 리소스에 대한 인증이 필요하다**                            
- 401 오류 발생 시, 응답에 WWW-Authenticate 헤더와 함께 인증 방법을 설명한다. 
3. **403 Forbidden**
- **서버가 요청을 이해했지만 승인을 거부함**            
- **인증은 되었으나, 접근 권한이 불충분한 경우**                
ex) 일반 회원이 관리자 등급의 리소스에 접근할 때                      
4. **404 Not Found**
- **요청 리소스를 찾을 수 없음**            
- 클라이언트가 **권한이 부족한 리소스에 접근**할 때, 해당 ***리소스를 숨기는 목적***으로도 사용이 가능하다.                    

### **5xx - 서버 오류** ###
- **서버 문제**로 오류가 발생함.
- **서버에 문제가 있기 때문에 재시도하면 성공할 수도 있음 (복구)**

1. **500 Internal Server Error**
- **서버 내부 문제**로 오류 발생, 애매하면 500 오류    
2. **503 Service Unavailable**
- **서버가 일시적인 과부하 또는 예정된 작업으로** 잠시 요청을 처리할 수 없음.           
- Retry-After 헤더 필드로 **얼마뒤에 복구되는지 보낼 수 있음.**      