---
title: "Heap"
date: '2023-02-18 +0900'
description: 'ì½”ë”©í…ŒìŠ¤íŠ¸ - Heap'
categories: [Study,ì½”ë”©í…ŒìŠ¤íŠ¸]
tags: [Study,ì•Œê³ ë¦¬ì¦˜]
pin: true
---

> 2ì›” 4ì£¼ì°¨ ìŠ¤í„°ë”” ë°œí‘œ ìë£ŒğŸ“–                                    
> ì´ë²ˆ ì£¼ì— **ì •ë¦¬í•  ì•Œê³ ë¦¬ì¦˜ì€ Heapì…ë‹ˆë‹¤!!**

## **í™ (Heap)** ##
---
- **ë°ì´í„°ì—ì„œ ìµœëŒ“ê°’ê³¼ ìµœì†Ÿê°’ì„ ë¹ ë¥´ê²Œ êµ¬í•˜ê¸° ìœ„í•´ ê³ ì•ˆëœ ì™„ì „ ì´ì§„ íŠ¸ë¦¬ì´ë‹¤.**
- **í‚¤ê°’ì˜ ëŒ€ì†Œê´€ê³„**ëŠ” ì˜¤ë¡œì§€ **ë¶€ëª¨ë…¸ë“œì™€ ìì‹ë…¸ë“œ ê°„ì—ë§Œ ì„±ë¦½**í•˜ë©°, í˜•ì œ ì‚¬ì´ì—ëŠ” ëŒ€ì†Œê´€ê³„ê°€ ì •í•´ì§€ì§€ ì•ŠëŠ” **ëŠìŠ¨í•œ ì •ë ¬ ìƒíƒœ**
- ì´ì§„ íƒìƒ‰íŠ¸ë¦¬ì™€ëŠ” ë‹¬ë¦¬ **ì¤‘ë³µ ê°’ì„ í—ˆìš©í•œë‹¤.**
- ***ìš°ì„ ìˆœìœ„ í, í™ ì •ë ¬ ë“±ì—ì„œ ì‚¬ìš©í•œë‹¤.***
- **ğŸ¤” ì™„ì „ ì´ì§„ íŠ¸ë¦¬?**
    ![ì™„ì „ ì´ì§„ íŠ¸ë¦¬](/assets/img/binary.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px;" }
    - **ë§ˆì§€ë§‰ ë ˆë²¨ì„ ì œì™¸**í•˜ê³  **ëª¨ë“  ë ˆë²¨ì´ ì™„ì „íˆ ì±„ì›Œì ¸ìˆë‹¤.**
    - ë§ˆì§€ë§‰ ë ˆë²¨ì´ ê½‰ ì°¨ ìˆì§€ ì•Šì•„ë„, **ë…¸ë“œê°€ ì™¼ìª½ì—ì„œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì±„ì›Œì ¸ì•¼í•œë‹¤.**
    - ì™„ì „ ì´ì§„ íŠ¸ë¦¬ëŠ” **ë°°ì—´ì„ ì‚¬ìš©í•´ íš¨ìœ¨ì ìœ¼ë¡œ í‘œí˜„ì´ ê°€ëŠ¥í•˜ë‹¤.**

## **í™ì˜ ì¢…ë¥˜?** ##
---
![heap ì„¤ëª…](/assets/img/heap2.JPG){:style="border:0.2px solid ; border-radius: 6px; padding: 0px;" }
1. **ìµœëŒ€í™ (Max Heap)**
    - **ë¶€ëª¨ ë…¸ë“œì˜ í‚¤ ê°’ì´ ìì‹ ë…¸ë“œì˜ í‚¤ ê°’ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì€** ì™„ì „ ì´ì§„ íŠ¸ë¦¬
    - ***key(ë¶€ëª¨ ë…¸ë“œ) >= key(ìì‹ ë…¸ë“œ)***
2. **ìµœì†Œí™ (Min Heap)**
    - **ë¶€ëª¨ ë…¸ë“œì˜ í‚¤ ê°’ì´ ìì‹ ë…¸ë“œì˜ í‚¤ ê°’ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€** ì™„ì „ ì´ì§„ íŠ¸ë¦¬
    - ***key(ë¶€ëª¨ ë…¸ë“œ) <= key(ìì‹ ë…¸ë“œ)***

## **í™ì˜ êµ¬í˜„?** ##
---
- **í™ì€ ë°°ì—´ë¡œ êµ¬í˜„ëœë‹¤.**
- **ì™¼ìª½ ìì‹ì˜ ì¸ë±ìŠ¤ = [ë¶€ëª¨ ì¸ë±ìŠ¤] x 2**
- **ì˜¤ë¥¸ìª½ ìì‹ì˜ ì¸ë±ìŠ¤ = [ë¶€ëª¨ ì¸ë±ìŠ¤] x 2 + 1**
- **ë¶€ëª¨ ì¸ë±ìŠ¤ = [ìì‹ ì¸ë±ìŠ¤] / 2**
![heap](/assets/img/heap-array.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px;" }

### **í™ì˜ ì‚½ì…** ###
- ê·¸ë¦¼ì€ **ìµœëŒ€ í™ì´ë¼ê³  ê°€ì •í•œë‹¤.**
    1. **ìƒˆë¡œìš´ ë…¸ë“œëŠ” í•­ìƒ í™ì˜ ë§¨ ëì— ì¶”ê°€ëœë‹¤.**
    2. **ìì‹ ì˜ ë¶€ëª¨ ë…¸ë“œì™€ ê°’ì„ ë¹„êµ**í•˜ì—¬ **ë¶€ëª¨ ë…¸ë“œì˜ ê°’ì´ ìì‹ ë³´ë‹¤ ì‘ë‹¤ë©´ ìœ„ì¹˜ë¥¼ ë°”ê¾¼ë‹¤.**
    3. **ìì‹ ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì€ ê°’ì„ ê°€ì§„ ë¶€ëª¨ ë…¸ë“œë¥¼ ë§Œë‚˜ê±°ë‚˜, ë£¨íŠ¸ì— ë„ë‹¬í•  ë•Œê¹Œì§€ ë°˜ë³µí•œë‹¤.**
![heap ì‚½ì…](/assets/img/heap-insert.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px;" }

### **í™ì˜ ì‚­ì œ** ###
- ê·¸ë¦¼ì€ **ìµœëŒ€ í™ì´ë¼ê³  ê°€ì •í•œë‹¤.**
    1. í™ì—ì„œ ì‚­ì œë˜ì–´ì•¼ í•˜ëŠ” ì›ì†ŒëŠ” **ë£¨íŠ¸**ì´ë‹¤.
    2. í™ì˜ **ë§ˆì§€ë§‰ ë…¸ë“œë¥¼ ë£¨íŠ¸ì— ë®ì–´ ì”Œìš´ë‹¤.**
    3. í™ì˜ **ëŒ€ì†Œ ê´€ê³„ ì¡°ê±´ì„ ë§Œì¡±ì‹œí‚¬ ë•Œê¹Œì§€ ë…¸ë“œë¥¼ ì´ë™í•œë‹¤.**
![heap ì‚­ì œ](/assets/img/heap-delete.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px;" }

## **í™ì„ í™œìš©í•´ ë¬¸ì œë¥¼ í’€ì–´ë³´ì!** ##
---
### **1. í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ - ë” ë§µê²Œ** ###
![heap ë¬¸ì œ 1](/assets/img/heap-pro1.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px; height: 500px;" }
- **ìš°ì„ ìˆœìœ„ í(Priority Queue)?**        
    - ìš°ì„ ìˆœìœ„ íëŠ” **ë“¤ì–´ê°„ ìˆœì„œì— ìƒê´€ì—†ì´ ìš°ì„ ìˆœìœ„ê°€ ë†’ì€ ë°ì´í„°ê°€ ë¨¼ì € ë‚˜ì˜¤ëŠ” êµ¬ì¡°ì´ë‹¤.**
    - ìš°ì„ ìˆœìœ„ íëŠ” **í™(Heap)**ì´ë¼ëŠ” ìë£Œêµ¬ì¡°ë¥¼ ê°€ì§€ê³  êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

- **ì ‘ê·¼ ë°©ë²•?**
    1. **ëª¨ë“  ìŒì‹ì˜ ìŠ¤ì½”ë¹Œ ì§€ìˆ˜ê°€ k ì´ìƒì´ë ¤ë©´ ìµœì†Œ ê°’ì´ kì´ìƒì´ë©´ ëœë‹¤.**
    2. ìµœì†Œê°’ì— ê´€ë ¨ëœ ë¬¸ì œì´ë¯€ë¡œ, **ìš°ì„ ìˆœìœ„ í ì¤‘ì—ì„œ ìµœì†Œí™ì„ í™œìš©í•˜ì!**
    3. ìš°ì„ ìˆœìœ„ í(ìµœì†Œ í™)ëŠ” **ìš°ì„  ìˆœìœ„ê°€ ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬ë˜ìˆë‹¤. ì¦‰, ì˜¤ë¦„ì°¨ìˆœ**
    4. ìš°ì„ ìˆœìœ„ íì—ì„œ **ê°’ 2ê°œë¥¼ ê°€ì ¸ì˜¨ë‹¤.**
    5. í•´ë‹¹ ê°’ì„ ì£¼ì–´ì§„ ì‹ì— ëŒ€ì…í•˜ê³  **ê²°ê³¼ ê°’ì„ ìš°ì„ ìˆœìœ„ íì— ì¶”ê°€í•œë‹¤.**
    6. ìš°ì„ ìˆœìœ„ íì˜ ***ìµœìƒë‹¨ ê°’ì´(ìµœì†Œ ê°’) k ì´ìƒì¸ì§€ í™•ì¸í•œë‹¤***
    7. ê°’ì´ **k ì´ìƒì´ë©´ ì¢…ë£Œ, k ë¯¸ë§Œì´ë©´ 4-6ê³¼ì •ì„ ë°˜ë³µí•œë‹¤.** 

    ```java
    import java.util.*;

    class Solution {
        public int solution(int[] scoville, int K) {
            int answer = 0;

            // ìµœì†Œ ê°’ì´ ìš°ì„ ìˆœìœ„ì¸ í = ìµœì†Œ í™
            // ìµœëŒ€ ê°’ì´ ìš°ì„ ìˆœìœ„ì¸ í = ìµœëŒ€ í™ new PriorityQueue<>(Collections.reverseOrder());
            PriorityQueue<Integer> minHeap = new PriorityQueue<Integer>();
            for(int n : scoville) minHeap.add(n);
            
            while(minHeap.peek() < K){
                int min1 = minHeap.poll();
                int min2 = minHeap.poll();
                
                minHeap.add(min1 + min2 * 2);
                answer++;
                
                if(minHeap.peek() >= K) break;
                if(minHeap.peek() < K && minHeap.size()==1){
                    answer = -1;
                    break;
                }
            }
            return answer;
        }
    }
    ```

### **2. í”„ë¡œê·¸ë˜ë¨¸ìŠ¤ - ë””ìŠ¤í¬ ì»¨íŠ¸ë¡¤ëŸ¬** ###
![heap ë¬¸ì œ 2](/assets/img/disk.jpg){:style="border:0.2px solid ; border-radius: 6px; padding: 0px; height: 500px;"}
- **ì ‘ê·¼ ë°©ë²•?**
    1. **ìš”ì²­ ì‹œê°„ë¶€í„° ì¢…ë£Œì‹œê°„ì˜ í‰ê· ì„ ì¤„ì´ë ¤ë©´ ì†Œìš”ì‹œê°„ì´ ì‘ì€ ì‘ì—…ë¶€í„° ì²˜ë¦¬í•´ì•¼í•œë‹¤.**
    2. **ë‹¨, ì†Œìš”ì‹œê°„ì´ ì‘ì€ ì‘ì—…ë¶€í„° ë¬´ì‘ì • ì‹¤í–‰í•˜ë©´ ì•ˆëœë‹¤. ìš”ì²­ ì‹œê°„ 1000ì´ˆì— ì‘ì—… ì‹œê°„ 1ì´ˆì¼ìˆ˜ë„ ìˆê¸° ë•Œë¬¸..**
    3. **ìš”ì²­ì‹œê°„ì´ ì œì¼ ë¹ ë¥¸ ì‘ì—…ë¶€í„° ì‹¤í–‰í•˜ê³ , í•´ë‹¹ ì‘ì—…ì´ ëë‚¬ì„ ì‹œì ì— ì‹¤í–‰ ê°€ëŠ¥í•œ ì‘ì—… ì¤‘ ì†Œìš”ì‹œê°„ì´ ì‘ì€ ì‘ì—…ì„ ì‹¤í–‰í•´ì•¼í•œë‹¤.**
    4. **ì‘ì—…ì„ ì™„ë£Œí–ˆì„ ë•Œ ì œì¼ ë¹ ë¥¸ ì‘ì—…ì´ í˜„ì¬ ì‹œê°„ ì´í›„ë¼ë©´ í•´ë‹¹ ì‹œê°„ìœ¼ë¡œ ë°”ë¡œ ì´ë™í•œë‹¤.** 
    
    ```java
    import java.util.*;

    class Solution {
        public int solution(int[][] jobs) {
            int answer = 0;

            //jobs[][1](ì†Œìš”ì‹œê°„ ê¸°ì¤€) ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
            PriorityQueue<int[]> minHeap = new PriorityQueue<int[]>((o1,o2) -> (o1[1]-o2[1])); 
            //jobs[][0](ìš”ì²­ì‹œê°„ ê¸°ì¤€) ì˜¤ë¦„ì°¨ìˆœ ì •ë ¬
            Arrays.sort(jobs, (o1,o2) -> (o1[0]-o2[0])); 

            int index = 0;
            int time = jobs[0][0]; // í˜„ì¬ ì‹œê°„

            while(index < jobs.length || !minHeap.isEmpty()){
                while(index < jobs.length && jobs[index][0] <= time){ // ë‚¨ì•„ìˆëŠ” ì‘ì—…ì´ ìˆì–´ì•¼í•˜ë©°, ìš”ì²­ì‹œê°„ì´ í˜„ì¬ ì‹œê°„ë³´ë‹¤ ì ì–´ì•¼í•¨
                    minHeap.add(jobs[index]); // ìœ„ì˜ ì¡°ê±´ì„ ì¶©ì¡±í•˜ë©´ ì‘ì—… ëŒ€ê¸°
                    index++;
                }
                if(minHeap.isEmpty()){
                    //í˜„ì¬ ì‹œê°„ì´ ì´í›„ ì‘ì—… ìš”ì²­ì‹œê°„ ì „ì¼ ë•Œ
                    time = jobs[index][0]; // ì œì¼ ë¹ ë¥¸ ìš”ì²­ì‹œê°„ìœ¼ë¡œ ì‹œê°„ëŒ€ ì˜®ê¸°ê¸°
                }
                if(!minHeap.isEmpty()){ // í•´ì•¼ í•  ì‘ì—…ì´ ìˆë‹¤ë©´
                    int[] job = minHeap.poll(); // í•´ë‹¹ ì‘ì—… ê°€ì ¸ì˜¤ê¸°
                    answer += time - job[0] + job [1]; // ëŒ€ê¸° ì‹œê°„ê³¼ ì‘ì—…ëŸ‰ ë”í•˜ê¸°
                    time += job[1];
                }
            }

            return answer/jobs.length;
        }
    }
    ```